<!-- └─ views/index.ejs -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>経費管理システム</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
  </head>
  <body class="container mt-4">
    <h1>経費管理システム</h1>

    <!-- 経費登録フォーム -->
    <form method="POST" action="/expenses" class="mb-4">
      <div class="form-row">
        <div class="form-group col-md-3">
          <label for="date">日付</label>
          <input
            type="date"
            class="form-control"
            id="date"
            name="date"
            required
          />
        </div>
        <div class="form-group col-md-3">
          <label for="category">カテゴリ</label>
          <input
            type="text"
            class="form-control"
            id="category"
            name="category"
            placeholder="例: 食費"
            required
          />
        </div>
        <div class="form-group col-md-2">
          <label for="amount">金額</label>
          <input
            type="number"
            class="form-control"
            id="amount"
            name="amount"
            placeholder="1000"
            required
          />
        </div>
        <div class="form-group col-md-4">
          <label for="memo">メモ</label>
          <input
            type="text"
            class="form-control"
            id="memo"
            name="memo"
            placeholder="会議費用"
          />
        </div>
      </div>
      <button type="submit" class="btn btn-primary">追加</button>
    </form>

    <!-- 経費一覧テーブル -->
    <table class="table table-bordered">
      <thead class="thead-light">
        <tr>
          <th>日付</th>
          <th>カテゴリ</th>
          <th>金額</th>
          <th>メモ</th>
        </tr>
      </thead>
      <tbody>
        <% expenses.forEach(exp => { %>
          <tr>
            <td>
              <%= new Date(exp.date)
                    .toLocaleDateString('ja-JP', {
                      year: 'numeric',
                      month: '2-digit',
                      day: '2-digit'
                    })
              %>
            </td>
            <td><%= exp.category %></td>
            <td>¥<%= exp.amount %></td>
            <td><%= exp.memo %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  </body>
</html>
